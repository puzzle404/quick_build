<div class="card bg-base-100 shadow-sm w-full">
  <div class="card-body p-6">
  <div class="flex items-center justify-between">
    <h2 class="text-base font-semibold text-slate-900 tracking-tight">Documentos recientes</h2>

    <%= render Ui::ButtonComponent.new(
      label: 'Ver todo', 
      path: index_path, 
      variant: :link,
      size: :sm,
      class_name: "text-indigo-600 hover:text-indigo-700 font-medium"
    ) %>
  </div>

  <% if preview_documents.any? %>
    <div class="mt-4 flex gap-3 overflow-x-auto scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent pr-1">

      <% preview_documents.each do |document| %>
        <% open_url = rails_blob_url(document.file, disposition: 'inline') %>

        <%= link_to open_url, target: "_blank", title: document.file_name,
            class: "group flex h-14 w-48 shrink-0 items-center gap-3 rounded-xl border border-slate-200 bg-slate-50 px-3 text-xs font-medium text-slate-700 shadow-sm transition hover:ring-2 hover:ring-indigo-200" do %>

          <span class="flex h-8 w-8 items-center justify-center rounded-md bg-slate-200 text-slate-700">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24">
              <path fill="currentColor" d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm7 1.5L18.5 9H13zM8 13h8v1.5H8zm0 3h8V18H8z"/>
            </svg>
          </span>

          <span class="max-w-[9rem] truncate text-sm text-slate-800 group-hover:text-slate-900">
            <%= document.file_name %>
          </span>
        <% end %>
      <% end %>

      <% if extra_count > 0 %>
        <%= link_to index_path,
            class: "flex h-14 w-14 shrink-0 items-center justify-center rounded-xl border border-dashed border-slate-300 bg-slate-50 text-[12px] font-medium text-slate-600 hover:border-indigo-300 hover:text-indigo-600 transition" do %>
          +<%= extra_count %>
        <% end %>
      <% end %>

    </div>

  <% else %>

    <div class="mt-5 flex flex-col items-center justify-center gap-2 rounded-2xl border border-dashed border-slate-200 bg-slate-50 py-8 text-center">
      <p class="text-sm text-slate-600">Todav√≠a no se cargaron documentos para esta obra.</p>
      <%= link_to "Subir ahora", index_path, class: "text-sm font-medium text-indigo-600 hover:text-indigo-700" %>
    </div>

  <% end %>
  </div>
</div>
