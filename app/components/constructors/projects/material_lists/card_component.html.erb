<%= link_to helpers.constructors_project_material_list_path(project, material_list),
            class: "flex flex-col rounded-2xl border border-slate-200 bg-white p-4 text-left shadow-sm transition hover:-translate-y-0.5 hover:border-emerald-200 hover:shadow-lg" do %>
  <div class="flex items-center justify-between">
    <p class="text-base font-semibold text-slate-900"><%= material_list.name %></p>
    <% if publication %>
      <span class="rounded-full bg-emerald-100 px-2.5 py-0.5 text-xs font-medium text-emerald-700">
        <%= publication.visibility_public? ? "Permitido presupuestar" : "Uso interno" %>
      </span>
    <% else %>
      <span class="rounded-full bg-slate-100 px-2.5 py-0.5 text-xs font-medium text-slate-600">
        Uso interno
      </span>
    <% end %>
  </div>
  <% if material_list.project_stage.present? %>
    <p class="mt-1 text-xs font-medium uppercase tracking-wide text-indigo-500">
      Etapa: <span class="font-semibold lowercase normal-case text-slate-700"><%= helpers.project_stage_label(material_list.project_stage) %></span>
    </p>
  <% end %>
  <p class="mt-2 text-sm text-slate-500">
    <%= helpers.pluralize(material_list.material_items.size, "ítem") %> · Actualizado <%= helpers.time_ago_in_words(material_list.updated_at) %> atrás
  </p>
  <p class="mt-4 line-clamp-3 text-sm text-slate-600">
    <%= material_list.notes.presence || "Sin notas todavía." %>
  </p>
<% end %>

