<%= form_with model: stage,
              url: form_url,
              method: form_method,
              data: { turbo_frame: "_top" },
              class: "grid gap-4 sm:grid-cols-2" do |form| %>
  <%= form.hidden_field :parent_id, value: parent_field_value if parent_field_value.present? %>
  <% if stage.errors.any? %>
    <div class="sm:col-span-2 rounded-lg border border-rose-200 bg-rose-50 p-3 text-sm text-rose-700">
      <p class="font-semibold">No pudimos guardar la etapa:</p>
      <ul class="mt-2 list-disc space-y-1 pl-5">
        <% stage.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class="sm:col-span-2">
    <%= form.label :name, "Nombre de la etapa", class: "block text-sm font-medium text-slate-700" %>
    <%= form.text_field :name,
                        class: "mt-1 block w-full rounded-lg border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200" %>
  </div>
  <div class="sm:col-span-2">
    <%= form.label :description, "Descripción", class: "block text-sm font-medium text-slate-700" %>
    <%= form.text_area :description,
                       rows: 3,
                       class: "mt-1 block w-full rounded-lg border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200" %>
    <p class="mt-1 text-xs text-slate-500">Anotá los entregables o alcance clave de la etapa.</p>
  </div>
  <div>
    <%= form.label :start_date, "Fecha de inicio", class: "block text-sm font-medium text-slate-700" %>
    <%= form.date_field :start_date,
                        class: "mt-1 block w-full rounded-lg border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200" %>
  </div>
  <div>
    <%= form.label :end_date, "Fecha de finalización", class: "block text-sm font-medium text-slate-700" %>
    <%= form.date_field :end_date,
                        class: "mt-1 block w-full rounded-lg border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200" %>
  </div>
  <div class="sm:col-span-2 flex justify-end">
    <%= render Ui::ButtonComponent.new(label: submit_label, type: :submit, size: :md) %>
  </div>
<% end %>
