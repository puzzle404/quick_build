<%= render Ui::BreadcrumbsComponent.new(
      items: [
        { label: "#{project.name}", path: constructors_project_path(project) }
      ] + breadcrumb_items + [
        { label: stage.name }
      ]
    ) %>

<% badge_text = status_badge %>
<%= render Ui::SectionHeaderComponent.new(
      title: stage.name,
      subtitle: stage.description.presence || 'Sin descripción todavía.',
      meta_html: (badge_text.present? ? tag.span(badge_text, class: 'inline-flex items-center rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-600') : nil)
    ) do %>
  <% if parent_path.present? %>
    <%= render Ui::ButtonComponent.new(label: 'Ver etapa superior', path: parent_path, variant: :secondary, size: :sm) %>
  <% end %>
  <% if edit_path.present? %>
    <%= render Ui::ButtonComponent.new(label: 'Editar', path: edit_path, variant: :secondary, size: :sm) %>
  <% end %>
<% end %>
