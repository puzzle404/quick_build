<div class="min-h-screen p-6">
  <%= render Ui::SectionHeaderComponent.new(title: 'Dashboard') do %>
    <%= link_to "Nuevo proyecto", new_constructors_project_path, class: "rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700" %>
  <% end %>

  <% metrics = @dashboard[:metrics] %>

  <section class="grid gap-6 sm:grid-cols-2 lg:grid-cols-4">
    <%= render Constructors::Dashboard::KpiCardComponent.new(label: 'Obras totales', value: metrics[:total_projects]) %>
    <%= render Constructors::Dashboard::KpiCardComponent.new(label: 'En progreso', value: metrics[:in_progress_projects]) %>
    <%= render Constructors::Dashboard::KpiCardComponent.new(label: 'Planificadas', value: metrics[:planned_projects]) %>
    <%= render Constructors::Dashboard::KpiCardComponent.new(label: 'Completadas', value: metrics[:completed_projects]) %>
  </section>

  <%= render Constructors::Dashboard::ChartPlaceholderComponent.new(evolution: @dashboard[:evolution]) %>

  <div class="mt-8 grid grid-cols-1 gap-6 lg:grid-cols-3">
    <div class="lg:col-span-2">
      <%= render Constructors::Dashboard::ActivityTableComponent.new(entries: @dashboard[:recent_activity]) %>
    </div>

    <div class="space-y-6">
      <%= render Constructors::Dashboard::UpcomingStagesPanelComponent.new(stages: @dashboard[:upcoming_stages]) %>
      <%= render Constructors::Dashboard::RecentDocumentsPanelComponent.new(documents: @dashboard[:recent_documents]) %>
    </div>
  </div>
</div>
