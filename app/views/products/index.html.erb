<h1 class="mb-6 text-2xl font-bold">Productos</h1>

<%= form_with url: products_path, method: :get, data: { controller: 'search', turbo_frame: 'products' }, class: "mb-4 flex flex-col sm:flex-row" do |form| %>
  <%= form.text_field :query, value: params[:query], placeholder: "Buscar productos", class: "mb-2 flex-grow rounded border px-3 py-2 sm:mb-0 sm:mr-2 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500", data: { action: 'input->search#search' } %>
  <%= render Ui::FormButtonComponent.new(form: form, label: 'Buscar') %>
<% end %>

<%= render 'products/products', products: @products %>

<p class="mb-4"><%= link_to 'View Cart', cart_path, class: 'text-indigo-600 hover:underline' %></p>

<% if user_signed_in? && current_user.company == @company %>
  <p><%= render Ui::ButtonComponent.new(label: 'New Product', path: new_company_product_path) %></p>
<% end %>
